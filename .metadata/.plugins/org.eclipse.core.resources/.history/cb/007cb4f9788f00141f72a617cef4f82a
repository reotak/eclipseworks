package ex14_06;


public class TimeDisplay {
	public synchronized void runMessagePrinter(final String message, final int notifyCount) {
		if (message == null) {
			throw new IllegalArgumentException("want: message is not null");
		}
		if (notifyCount < 0) {
			throw new IllegalArgumentException("want: notifyCount is not negative");
		}

		int notifyCounter = 0;
		System.out.println("notify counter :" + notifyCounter);
		for (;;) {
			while (notifyCounter < notifyCount) {
				System.out.println("wait");
//				try {
//					wait();
//				} catch(InterruptedException e) {
//					System.out.println("error");
//					e.printStackTrace();
//				}
				System.out.println("awake");
			}
			notifyCounter++;

			System.out.println(message);
		}
	}

	public synchronized void runDisplay() {
		int time = 0;
		for (;;) {
			try {
				Thread.sleep(1000);
			} catch (InterruptedException e) {
				e.printStackTrace();
			}

			notifyAll();
			System.out.println(" Time Display : " + time++);
		}
	}


}
