package ex16_09;

import java.lang.reflect.Modifier;
import java.util.ArrayList;
import java.util.List;

class Util {
	public static boolean isEmpty(String str) {
		return str != null && str.length() == 0;
	}

	public static String insertString(String insert, String... strs) {
		if (strs == null) {
			return "";
		}

		List<String> list = new ArrayList<String>();

		for (String s : strs) {
			list.add(s);
		}

		return insertString(insert, list);
	}

	public static String insertString(String insert, List<?> list) {
		if (list == null) {
			return "";
		}

		String result = "";

		boolean isFirst = true;
		for (Object o : list) {
			if (isFirst) {
				isFirst = false;
			} else {
				result += insert;
			}

			if (o != null) {
				result += o.toString();
			}
		}

		return result;
	}


	public static String modifierToString(int modifier) {
		return modifierToString(modifier, false);
	}

	public static String modifierToString(int modifier, boolean addClass) {
		String result = "";
		result += isEmpty(getAccesser(modifier).toString()) ? "" : getAccesser(modifier).toString() + " ";
		result += Modifier.isStatic(modifier) ? "static " : "";
		result += Modifier.isNative(modifier) ? "native " : "";
		result += Modifier.isStrict(modifier) ? "strict " : "";
		result += Modifier.isVolatile(modifier) ? "volatile " : "";
		result += Modifier.isSynchronized(modifier) ? "synchronized " : "";
		result += Modifier.isTransient(modifier) ? "trasient " : "";
		result += Modifier.isFinal(modifier) ? "final " : "";
		result += Modifier.isInterface(modifier) ? "interface " :
			addClass ? "class " :
				Modifier.isAbstract(modifier) ? " abstract " : "";

		return result;
	}

	private static Accesser getAccesser(int modifier) {
		return Modifier.isPrivate(modifier) ? Accesser.PRIVATE :
			Modifier.isProtected(modifier) ? Accesser.PROTECTED :
				Modifier.isPublic(modifier) ? Accesser.PUBLIC :
					Accesser.NONE;
	}

}
