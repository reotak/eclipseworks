package ex16_09;

import static ex16_09.Util.*;

import java.lang.reflect.Field;
import java.lang.reflect.Method;
import java.util.List;

class DeclarationSearcher {
	public static List<? extends List<Integer>> [][]list;

	public static String search(String className) {
		String result = "";

		Class<?> c;
		try {
			c = Class.forName(className);
		} catch (ClassNotFoundException e) {
			System.err.println("Class Not Found");
			return "";
		}

		System.out.println("class name:" + c.getSimpleName());
		System.out.println("class mod:" + modifierToString(c.getModifiers(), true));

		for (Field f : c.getDeclaredFields()) {
			System.out.println(" field toString:" + f.toGenericString());
			System.out.println(" field name:" + f.getName());
			System.out.println(" field Type:" + typeToString(f.getGenericType()));

			System.out.println(" field mod:" + modifierToString(f.getModifiers()));
		}
		
		for (Method m : c.getDeclaredMethods()) {
			System.out.println(" method toString:" + m.toGenericString());
			System.out.println(" method name:" + m.getName());
			System.out.println(" method Type:" + typeToString(m.getGenericReturnType()));
			System.out.println(" method mod:" + modifierToString(m.getModifiers()));
			
			for (int i = 0; i < m.getParameterTypes().length; i++) {
				System.out.println("   arg:" + m.getParameterTypes()[i].getSimpleName());
				System.out.println("   arg:" + typeToString(m.getGenericParameterTypes()[i]));
			}
			
		}
		
		return result;
	}

	public static void main(String []args) {
		search("java.awt.ActiveEvent");
		search("java.lang.Integer");
		search("java.util.ArrayList");
		search("ex16_09.DeclarationSearcher");
	}
}
