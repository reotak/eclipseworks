package ex14_03;

class SafetyAdder {
	int num;

	public SafetyAdder(int num) {
		this.num = num;
	}

	public synchronized void addPrint() {
		int buf = num;

		try {
			Thread.sleep(1);
		} catch (InterruptedException e) {
			e.printStackTrace();
		}

		buf++;
		System.out.printf("%s add: %8d->%8d%n", Thread.currentThread().getName(), num, buf);
		num = buf;
	}

	public static void main(String []args) {
		SyncIncrementer adder = new SyncIncrementer(10);
		adder.addPrint();
		adder.addPrint();
		adder.addPrint();
	}
}