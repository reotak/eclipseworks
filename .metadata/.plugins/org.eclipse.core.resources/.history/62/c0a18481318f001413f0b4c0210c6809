package ex14_03;

class SafetyAdder {
	MyNumber target;

	public SafetyAdder(MyNumber target) {
		this.target = target;
	}

	public void add() {
		int buf = target.getNumber();
		buf++;
		target.setNum(buf);
	}

	public void add(int count) {
		if (count < 0) {
			throw new IllegalArgumentException("count is negative");
		}

		for (int i = 0; i < count; i++) {
			add();
		}
	}

	public static void main(String []args) {
		MyNumber num = new MyNumber(0);

		SafetyAdder adder = new SafetyAdder(num);
		adder.add(1000);
		System.out.println(num);
	}
}
