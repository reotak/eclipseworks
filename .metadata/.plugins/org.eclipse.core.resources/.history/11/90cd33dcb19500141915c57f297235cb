package ex16_10;

public class Game {
	public static void main(String[] args) {
		String name; // クラス名
		while ((name = getNextPlayer()) != null) {
			try {
				PlayerLoader loader = new PlayerLoader();
				Class<? extends Player> classOf = loader.loadClass(name).asSubclass(Player.class);
				Player player = classOf.newInstance();

				Game game = new Game();
				player.play(game);
				game.reportScore(name);
			} catch (Exception e) {
				reportException(name, e);
			}
		}
	}

	private void reportScore(String name) {
		System.out.println("reoprt");
	}

	private void reportException(String name, Exception e) {
		System.out.println("Error");
		System.out.println(" Player :" + name);
		System.out.println(" Exception :" + e);
	}
}
